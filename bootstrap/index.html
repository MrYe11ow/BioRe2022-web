<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
		<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css">
		<script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
		<script type="text/javascript"  src="../echarts.js"></script>
		
		<style type="text/css">
		.justify-content-center{
			margin: 0px 100px;
		}
		</style>
	</head>
	<body>
		<div class="shadow p-3 mb-5 bg-body rounded">
		<div class="container1">
		    <header class="d-flex flex-wrap justify-content-center py-3">
		      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
		        <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
		        <span class="fs-4">Simple header</span>
		      </a>
		
		      <ul class="nav nav-pills">
		        <li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Home</a></li>
		        <li class="nav-item"><a href="#" class="nav-link">Features</a></li>
		        <li class="nav-item"><a href="#" class="nav-link">Pricing</a></li>
		        <li class="nav-item"><a href="#" class="nav-link">FAQs</a></li>
		        <li class="nav-item"><a href="#" class="nav-link">About</a></li>
		      </ul>
		    </header>
		</div>
		</div>
		
		<div class="container">
		<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
		        <h1 class="h2">Dashboard</h1>
		        <div class="btn-toolbar mb-2 mb-md-0">
		          <div class="btn-group me-2">
		            <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
		            <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
		          </div>
		          <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
		            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
		            This week
		          </button>
		        </div>
		      </div>
			  
			  <!-- <canvas class="my-4 w-100 chartjs-render-monitor" id="myChart" width="1538" height="649" style="display: block; width: 1538px; height: 649px;"></canvas> -->
			  <div id="myChart" style="width: 1300px;height:500px;"></div>
		</div>
		
		<div class="container">
			<h2>Section title</h2>
			<div class="table-responsive">
		        <table id="table" class="table table-striped table-sm">
		          <!-- <thead>
		            <tr>
		              <th scope="col">#</th>
		              <th scope="col">Header</th>
		              <th scope="col">Header</th>
		              <th scope="col">Header</th>
		              <th scope="col">Header</th>
		            </tr>
		          </thead> -->
		        </table>
		    </div>
		</div>
		
	</body>
	
	<script>
	var chartDom = document.getElementById('myChart');
	var myChart = echarts.init(chartDom);
	var option;
	
	myChart.showLoading();
	// $.getJSON('https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples/data/asset/data/les-miserables.json', function (graph) {
	//$.getJSON('demo.json', function (graph) {
	$.getJSON('http://localhost:9900/chart', function (graph) {
	  myChart.hideLoading();
	  graph.nodes.forEach(function (node) {
	    node.label = {
	      show: node.symbolSize > 10
	    };
	  });
	  option = {
	    /* title: {
	      text: 'lalala',
	      subtext: 'Default layout',
	      top: 'bottom',
	      left: 'right'
	    }, */
	    tooltip: {},
	    legend: [
	      {
	        // selectedMode: 'single',
	        data: graph.categories.map(function (a) {
	          return a.name;
	        })
	      }
	    ],
	    animationDuration: 1500,
	    animationEasingUpdate: 'quinticInOut',
	    series: [
	      {
	        // name: 'lalala',
	        type: 'graph',
	        layout: 'force',
	        data: graph.nodes,
	        links: graph.links,
	        categories: graph.categories,
	        roam: true,
	        label: {
	          position: 'right',
	          formatter: '{b}'
	        },
	        lineStyle: {
	          color: 'source',
	          curveness: 0
	        },
	        emphasis: {
	          focus: 'adjacency',
	          lineStyle: {
	            width: 10
	          }
	        },
			force: {
			          repulsion: 10
			}
	      }
	    ]
	  };
	  myChart.setOption(option);
	});
	
	option && myChart.setOption(option);
	
	
		$('#table').bootstrapTable({
			search:true,
			pagination:true,
			pageSize:3,
			//pageList:[5,10,15,20],
			showColumns:true,
			showToggle:true,
			showRefresh:true,
		    url: 'http:localhost:9900/data',        // 表格数据来源
		    columns: [{
		        field: 'id',
		        title: 'Header',
				formatter: idformatter
		    }, {
		        field: 's1',
		        title: 'Header'
		    }, {
		        field: 's2',
		        title: 'Header'
		    },{
		        field: 's3',
		        title: 'Header'
		    },{
		        field: 's4',
		        title: 'Header' 
		    }, {
                     field:'ID',
                     title: '操作',
                     width: 150,
                     align: 'center',
                     valign: 'middle',
                     formatter: actionFormatter
                 }]
		});
		
		function idformatter(value,row,index){
			return "<a href='sdaf'>"+value+"</a>"
		}
		
		function actionFormatter(value, row, index) {
		    var id = value;
		    var result = "";
		    result += "<a href='javascript:;' class='btn btn-xs green' onclick=\"EditViewById('" + id + "', view='view')\" title='查看'><i class='bi bi-file-earmark-text'></i></span></a>";
		    result += "<a href='javascript:;' class='btn btn-xs blue' onclick=\"EditViewById('" + id + "')\" title='编辑'><i class='bi bi-geo-alt'></i></span></a>";
		    result += "<a href='javascript:;' class='btn btn-xs red' onclick=\"DeleteByIds('" + id + "')\" title='删除'><i class='bi bi-link-45deg'></i></span></a>";
		 
		    return result;
		}
	</script>
</html>
